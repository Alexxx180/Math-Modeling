<Application x:Class="MathWindow.App"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:vm="clr-namespace:MathWindow.ViewModel.Components"
			 Startup="OnStartup">
	<Application.Resources>
		<ResourceDictionary>
			<!--<ResourceDictionary.MergedDictionaries>
				<ResourceDictionary Source="Resources/Styles/Total.xaml"/>
				<ResourceDictionary Source="Resources/Styles/Text.xaml"/>
				<ResourceDictionary Source="Resources/Styles/Editing/Buttons.xaml"/>
				<ResourceDictionary Source="Resources/Styles/Editing/Input.xaml"/>
				
				<ResourceDictionary Source="Resources/Templates/Controls/Fields.xaml"/>
				<ResourceDictionary Source="Resources/Templates/Data/Items.xaml"/>

				<ResourceDictionary Source="Resources/Templates/Controls/Windows/Tabs/Information.xaml"/>
				<ResourceDictionary Source="Resources/Templates/Controls/Windows/Tabs/Documents.xaml"/>
				<ResourceDictionary Source="Resources/Templates/Controls/Windows/Tabs/Mode/View.xaml"/>
				<ResourceDictionary Source="Resources/Templates/Controls/Windows/Tabs/Mode/Edit.xaml"/>

				<ResourceDictionary Source="Resources/Templates/Data/Hierarchy/Rooter.xaml"/>
				<ResourceDictionary Source="Resources/Templates/Data/Hierarchy/Dialogs/Dependencies.xaml"/>
				
				<ResourceDictionary Source="Resources/Templates/Controls/Windows/Main.xaml"/>
				<ResourceDictionary Source="Resources/Templates/Controls/Windows/Editor.xaml"/>
			</ResourceDictionary.MergedDictionaries>-->

			<DataTemplate x:Key="ExpressNumber">
				<Border>
					<StackPanel Orientation="Horizontal">
						<StackPanel.Resources>
							<Style TargetType="{x:Type TextBlock}">
								<Setter Property="Margin" Value="10,5,10,5"/>
							</Style>
						</StackPanel.Resources> 

						<TextBlock Text="{Binding Path=Name}"/>
						<TextBlock Text="{Binding Path=No}"/>
					</StackPanel>
				</Border>
			</DataTemplate>

			<ControlTemplate x:Key="ExpressFile">
				<ListBox ItemTemplate="{StaticResource ExpressNumber}" ItemsSource="{Binding Path=Data.Calculus}">
					<ListBox.ItemsPanel>
						<ItemsPanelTemplate>
							<WrapPanel/> <!-- Width="300"-->
						</ItemsPanelTemplate>
					</ListBox.ItemsPanel>
				</ListBox>
			</ControlTemplate>

			<DataTemplate DataType="{x:Type vm:MainViewModel}">
				<ContentControl>
					<TabControl>
						<TabItem>
							<TabItem.Header>
								<TextBlock Text="Дискретная модель"/>
							</TabItem.Header>
							<TabItem.Content>
								Sample text
							</TabItem.Content>
						</TabItem>
						<TabItem>
							<TabItem.Header>
								<TextBlock Text="Непрерывная модель"/>
							</TabItem.Header>
							<TabItem.Content>
								<ContentControl Template="{StaticResource ExpressFile}" DataContext="{Binding Path=Model}"/>
								<!-- <ContentControl DataContext="{Binding Path=Model}">Sample text</ContentControl> -->
							</TabItem.Content>
						</TabItem>
					</TabControl>
				</ContentControl>
			</DataTemplate>

		</ResourceDictionary>
	</Application.Resources>
</Application>
